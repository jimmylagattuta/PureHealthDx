"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[713],{4713:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var a=n(2555),s=n(5043),r=n(1591),i=n(9486),o=n(5496),l=n.n(o),d=n(3216),c=(n(9225),n(579));const m=()=>{var e;const t=(0,d.Zp)(),[n,o]=(0,s.useState)(!1),[m,p]=(0,s.useState)(""),u=!1,h=(0,s.useRef)(null),{register:f,handleSubmit:g,setValue:b,watch:x,trigger:y,formState:{errors:j}}=(0,i.mN)({mode:"onChange",defaultValues:{patientName:"",patientSignature:"",dob:""}}),v=x();(0,s.useEffect)((()=>{window.scrollTo(0,0)}),[]),(0,s.useEffect)((()=>{u}),[u,b]),(0,s.useEffect)((()=>{y()}),[y]),(0,s.useEffect)((()=>{const e=localStorage.getItem("appointmentFormData");e&&console.log("Loaded stored form data:",JSON.parse(e))}),[]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(r.m,{children:[(0,c.jsx)("meta",{name:"robots",content:"noindex, nofollow"}),(0,c.jsx)("title",{children:"Step 6 of 6 | Become a Patient"})]}),m&&(0,c.jsx)("div",{className:"flash-message",children:m}),n&&(0,c.jsxs)("div",{className:"loading-spinner",children:["Submitting",(0,c.jsx)("span",{className:"dots"})]}),(0,c.jsx)("form",{className:"intake-form",onSubmit:g((async e=>{if(!h.current||h.current.isEmpty())return b("patientSignature","",{shouldValidate:!0}),void y("patientSignature");o(!0);const n=h.current.getTrimmedCanvas().toDataURL();e.patientSignature=n;const s={controlledSubstanceAutoRefillConsentPatientName:e.patientName,controlledSubstanceAutoRefillConsentPatientSignature:e.patientSignature,controlledSubstanceAutoRefillConsentDob:e.dob},r=JSON.parse(localStorage.getItem("appointmentFormData"))||{},i=(0,a.A)((0,a.A)({},r),s);try{const e=await fetch("/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({appointment:i})}),n=await e.json();e.ok?(console.log("\u2705 Submitted:",n),localStorage.removeItem("appointmentFormData"),p("\u2705 Appointment submitted successfully!"),setTimeout((()=>t("/")),2e3)):(console.error("\u274c Server error:",n),p("\u274c Error submitting appointment. Please try again."))}catch(l){console.error("\u274c Network error:",l),p("\u274c Network error. Please try again.")}finally{o(!1)}})),children:(0,c.jsxs)("div",{className:"book-appointment-container",children:[(0,c.jsxs)("div",{className:"banner",children:[(0,c.jsx)("div",{className:"banner-overlay"}),(0,c.jsx)("div",{className:"banner-text",children:(0,c.jsx)("h1",{children:"Book Telemedicine Consultation"})})]}),(0,c.jsxs)("div",{className:"content-section",children:[(0,c.jsx)("h2",{children:"Start Your Wellness Journey Today"}),(0,c.jsxs)("div",{className:"paper-container",children:[(0,c.jsxs)("div",{className:"progress",children:[(0,c.jsx)("div",{className:"progress-info",children:(0,c.jsx)("p",{children:"Step 6 of 6"})}),(0,c.jsx)("div",{className:"progress-bar-background",children:(0,c.jsx)("div",{className:"progress-bar-fill",style:{width:"100%"}})})]}),(0,c.jsxs)("div",{className:"consent-text",children:[(0,c.jsx)("p",{children:"I understand that Pure Health & Wellness has enrolled my controlled substance medication in Tailor Made Compounding\u2019s auto-refill program."}),(0,c.jsx)("p",{children:(0,c.jsx)("strong",{children:"Liability and Responsibility:"})}),(0,c.jsx)("p",{children:"I understand that TMC will not call and/or email to notify me or Pure Health & Wellness that my medication is being refilled."}),(0,c.jsx)("p",{children:"I understand that this form is a legal replacement in regards to receiving a call to notify me that my prescription is due to be filled and will be shipped to me without confirmation."}),(0,c.jsx)("p",{children:"I understand that it is my responsibility to immediately report any change in regards to my shipping address."}),(0,c.jsx)("p",{children:"I understand that I will be held responsible for notifying Tailor Made Compounding in the event my controlled substance package(s) are lost/stolen. I will inquire about the next steps for contacting UPS and filing a police report, and I fully understand if I do not take these next steps that I may not be eligible for any medication replacements."}),(0,c.jsx)("p",{children:"I understand that I will be held responsible for any added expenses of lost or stolen packages."}),(0,c.jsx)("p",{children:"I understand that I will be responsible for notifying TMC if I have a pause and/or discontinuation of medication."}),(0,c.jsx)("p",{children:"I understand that it is my responsibility, or that of Pure Health & Wellness, to notify TMC if my dosing or quantity prescribed has changed and any previous prescription\u2019s refills will need to be canceled."}),(0,c.jsx)("p",{children:"I understand that if I do not notify TMC before a prescription has left their facility, I will still be held responsible for the payment of this prescription."}),(0,c.jsx)("p",{children:'In accordance with state law KRS 218A.180 a controlled substance included in Schedules III, IV, and V "shall not be filled or refilled more than six (6) months after the date issued or be refilled more than five (5) times, unless renewed by the practitioner and a new prescription, written, electronic, or oral shall be required". Therefore, any prescriptions exceeding 6 months from date written, will require a new order to be sent in or verbal renewal by prescriber regardless of refills remaining.'})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Patient's Name (Required)"}),(0,c.jsx)("input",(0,a.A)({type:"text",maxLength:"50"},f("patientName",{required:"Patient's Name is required"}))),(0,c.jsxs)("span",{className:"character-counter",children:[(null===(e=v.patientName)||void 0===e?void 0:e.length)||0," of 50 max characters"]}),j.patientName&&(0,c.jsx)("p",{className:"error-message",children:j.patientName.message})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Patient Signature (Required)"}),(0,c.jsx)("div",{className:"signature-frame",children:(0,c.jsx)(l(),{ref:e=>{h.current=e,(e=>{if(e&&e.getCanvas()){const t=e.getCanvas();Object.assign(t.style,{border:"none",borderRadius:"12px",backgroundColor:"#ffffff",backgroundImage:"repeating-linear-gradient(45deg, #f3f4f6, #f3f4f6 10px, #ffffff 10px, #ffffff 20px)",width:"min-content",maxWidth:"100%",height:"150px",display:"block",boxSizing:"border-box",transition:"box-shadow 0.3s ease, transform 0.2s ease"});const n=()=>{t.style.boxShadow="0 8px 24px rgba(37, 99, 235, 0.35)",t.style.transform="scale(1.01)"},a=()=>{t.style.boxShadow="0 6px 20px rgba(37, 99, 235, 0.2)",t.style.transform="scale(1)"};t.addEventListener("mouseenter",n),t.addEventListener("mouseleave",a),t.addEventListener("touchstart",n),t.addEventListener("touchend",a)}})(e)},penColor:"black",canvasProps:{width:400,height:150},onEnd:()=>{if(!h.current.isEmpty()){const e=h.current.getTrimmedCanvas().toDataURL();b("patientSignature",e),y("patientSignature")}}})}),(0,c.jsx)("button",{type:"button",onClick:()=>{h.current&&(h.current.clear(),b("patientSignature",""),y("patientSignature"))},className:"clear-signature",children:"Clear Signature"}),j.patientSignature&&(0,c.jsx)("p",{className:"error-message",children:j.patientSignature.message})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Date of Birth (Required)"}),(0,c.jsx)("input",(0,a.A)({type:"date"},f("dob",{required:"Date of Birth is required"}))),j.dob&&(0,c.jsx)("p",{className:"error-message",children:j.dob.message})]}),(0,c.jsxs)("div",{className:"form-navigation button-row",children:[(0,c.jsx)("button",{type:"button",className:"btn-outline",onClick:()=>t("/book-appointment-step5"),children:"Previous"}),(0,c.jsx)("button",{type:"submit",className:"submit-btn",children:"Submit"})]})]})]})]})})]})}},9225:()=>{}}]);
//# sourceMappingURL=713.99e28097.chunk.js.map