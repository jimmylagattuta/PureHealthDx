"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[305],{9225:()=>{},9305:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var a=n(2555),s=n(2483),r=n(3080),i=n(6824),o=n.n(i),l=n(4194),d=(n(9225),n(6723));const c=()=>{var e;const t=(0,l.Zp)(),[n,i]=(0,s.useState)(!1),[c,p]=(0,s.useState)(""),m=!1,u=(0,s.useRef)(null),{register:h,handleSubmit:f,setValue:g,watch:b,trigger:x,formState:{errors:y}}=(0,r.mN)({mode:"onChange",defaultValues:{patientName:"",patientSignature:"",dob:""}}),j=b();(0,s.useEffect)((()=>{window.scrollTo(0,0)}),[]),(0,s.useEffect)((()=>{m}),[m,g]),(0,s.useEffect)((()=>{x()}),[x]),(0,s.useEffect)((()=>{const e=localStorage.getItem("appointmentFormData");e&&console.log("Loaded stored form data:",JSON.parse(e))}),[]);return(0,d.jsxs)(d.Fragment,{children:[c&&(0,d.jsx)("div",{className:"flash-message",children:c}),n&&(0,d.jsxs)("div",{className:"loading-spinner",children:["Submitting",(0,d.jsx)("span",{className:"dots"})]}),(0,d.jsx)("form",{className:"intake-form",onSubmit:f((async e=>{if(!u.current||u.current.isEmpty())return g("patientSignature","",{shouldValidate:!0}),void x("patientSignature");i(!0);const n=u.current.getTrimmedCanvas().toDataURL();e.patientSignature=n;const s={controlledSubstanceAutoRefillConsentPatientName:e.patientName,controlledSubstanceAutoRefillConsentPatientSignature:e.patientSignature,controlledSubstanceAutoRefillConsentDob:e.dob},r=JSON.parse(localStorage.getItem("appointmentFormData"))||{},o=(0,a.A)((0,a.A)({},r),s);try{const e=await fetch("/appointment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({appointment:o})}),n=await e.json();e.ok?(console.log("\u2705 Submitted:",n),localStorage.removeItem("appointmentFormData"),p("\u2705 Appointment submitted successfully!"),setTimeout((()=>t("/")),2e3)):(console.error("\u274c Server error:",n),p("\u274c Error submitting appointment. Please try again."))}catch(l){console.error("\u274c Network error:",l),p("\u274c Network error. Please try again.")}finally{i(!1)}})),children:(0,d.jsxs)("div",{className:"book-appointment-container",children:[(0,d.jsxs)("div",{className:"banner",children:[(0,d.jsx)("div",{className:"banner-overlay"}),(0,d.jsx)("div",{className:"banner-text",children:(0,d.jsx)("h1",{children:"Book Telemedicine Consultation"})})]}),(0,d.jsxs)("div",{className:"content-section",children:[(0,d.jsx)("h2",{children:"Start Your Wellness Journey Today"}),(0,d.jsxs)("div",{className:"paper-container",children:[(0,d.jsxs)("div",{className:"progress",children:[(0,d.jsx)("div",{className:"progress-info",children:(0,d.jsx)("p",{children:"Step 6 of 6"})}),(0,d.jsx)("div",{className:"progress-bar-background",children:(0,d.jsx)("div",{className:"progress-bar-fill",style:{width:"100%"}})})]}),(0,d.jsxs)("div",{className:"consent-text",children:[(0,d.jsx)("p",{children:"I understand that Pure Health & Wellness has enrolled my controlled substance medication in Tailor Made Compounding\u2019s auto-refill program."}),(0,d.jsx)("p",{children:(0,d.jsx)("strong",{children:"Liability and Responsibility:"})}),(0,d.jsx)("p",{children:"I understand that TMC will not call and/or email to notify me or Pure Health & Wellness that my medication is being refilled."}),(0,d.jsx)("p",{children:"I understand that this form is a legal replacement in regards to receiving a call to notify me that my prescription is due to be filled and will be shipped to me without confirmation."}),(0,d.jsx)("p",{children:"I understand that it is my responsibility to immediately report any change in regards to my shipping address."}),(0,d.jsx)("p",{children:"I understand that I will be held responsible for notifying Tailor Made Compounding in the event my controlled substance package(s) are lost/stolen. I will inquire about the next steps for contacting UPS and filing a police report, and I fully understand if I do not take these next steps that I may not be eligible for any medication replacements."}),(0,d.jsx)("p",{children:"I understand that I will be held responsible for any added expenses of lost or stolen packages."}),(0,d.jsx)("p",{children:"I understand that I will be responsible for notifying TMC if I have a pause and/or discontinuation of medication."}),(0,d.jsx)("p",{children:"I understand that it is my responsibility, or that of Pure Health & Wellness, to notify TMC if my dosing or quantity prescribed has changed and any previous prescription\u2019s refills will need to be canceled."}),(0,d.jsx)("p",{children:"I understand that if I do not notify TMC before a prescription has left their facility, I will still be held responsible for the payment of this prescription."}),(0,d.jsx)("p",{children:'In accordance with state law KRS 218A.180 a controlled substance included in Schedules III, IV, and V "shall not be filled or refilled more than six (6) months after the date issued or be refilled more than five (5) times, unless renewed by the practitioner and a new prescription, written, electronic, or oral shall be required". Therefore, any prescriptions exceeding 6 months from date written, will require a new order to be sent in or verbal renewal by prescriber regardless of refills remaining.'})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{children:"Patient's Name (Required)"}),(0,d.jsx)("input",(0,a.A)({type:"text",maxLength:"50"},h("patientName",{required:"Patient's Name is required"}))),(0,d.jsxs)("span",{className:"character-counter",children:[(null===(e=j.patientName)||void 0===e?void 0:e.length)||0," of 50 max characters"]}),y.patientName&&(0,d.jsx)("p",{className:"error-message",children:y.patientName.message})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{children:"Patient Signature (Required)"}),(0,d.jsx)("div",{className:"signature-frame",children:(0,d.jsx)(o(),{ref:e=>{u.current=e,(e=>{if(e&&e.getCanvas()){const t=e.getCanvas();Object.assign(t.style,{border:"none",borderRadius:"12px",backgroundColor:"#ffffff",backgroundImage:"repeating-linear-gradient(45deg, #f3f4f6, #f3f4f6 10px, #ffffff 10px, #ffffff 20px)",width:"min-content",maxWidth:"100%",height:"150px",display:"block",boxSizing:"border-box",transition:"box-shadow 0.3s ease, transform 0.2s ease"});const n=()=>{t.style.boxShadow="0 8px 24px rgba(37, 99, 235, 0.35)",t.style.transform="scale(1.01)"},a=()=>{t.style.boxShadow="0 6px 20px rgba(37, 99, 235, 0.2)",t.style.transform="scale(1)"};t.addEventListener("mouseenter",n),t.addEventListener("mouseleave",a),t.addEventListener("touchstart",n),t.addEventListener("touchend",a)}})(e)},penColor:"black",canvasProps:{width:400,height:150},onEnd:()=>{if(!u.current.isEmpty()){const e=u.current.getTrimmedCanvas().toDataURL();g("patientSignature",e),x("patientSignature")}}})}),(0,d.jsx)("button",{type:"button",onClick:()=>{u.current&&(u.current.clear(),g("patientSignature",""),x("patientSignature"))},className:"clear-signature",children:"Clear Signature"}),y.patientSignature&&(0,d.jsx)("p",{className:"error-message",children:y.patientSignature.message})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{children:"Date of Birth (Required)"}),(0,d.jsx)("input",(0,a.A)({type:"date"},h("dob",{required:"Date of Birth is required"}))),y.dob&&(0,d.jsx)("p",{className:"error-message",children:y.dob.message})]}),(0,d.jsxs)("div",{className:"form-navigation button-row",children:[(0,d.jsx)("button",{type:"button",className:"btn-outline",onClick:()=>t("/book-appointment-step5"),children:"Previous"}),(0,d.jsx)("button",{type:"submit",className:"submit-btn",children:"Submit"})]})]})]})]})})]})}}}]);
//# sourceMappingURL=305.f7ca9d8c.chunk.js.map