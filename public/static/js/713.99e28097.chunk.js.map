{"version":3,"file":"static/js/713.99e28097.chunk.js","mappings":"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","sources":["pages/BookAppointmentStep6.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport SignatureCanvas from \"react-signature-canvas\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"./BookAppointmentPage.css\";\r\n\r\nconst BookAppointmentStep6 = () => {\r\n  const navigate = useNavigate();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [flashMessage, setFlashMessage] = useState(\"\");\r\n  const demoMode = true;\r\n  const patientSigPad = useRef(null);\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    setValue,\r\n    watch,\r\n    trigger,\r\n    formState: { errors },\r\n  } = useForm({\r\n    mode: \"onChange\",\r\n    defaultValues: {\r\n      patientName: \"\",\r\n      patientSignature: \"\",\r\n      dob: \"\",\r\n    },\r\n  });\r\n\r\n  const values = watch();\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (demoMode) {\r\n      setValue(\"patientName\", \"John Doe\");\r\n      setValue(\"dob\", \"1980-01-01\");\r\n    }\r\n  }, [demoMode, setValue]);\r\n\r\n  useEffect(() => {\r\n    trigger();\r\n  }, [trigger]);\r\n\r\n  useEffect(() => {\r\n    const storedData = localStorage.getItem(\"appointmentFormData\");\r\n    if (storedData) {\r\n      console.log(\"Loaded stored form data:\", JSON.parse(storedData));\r\n    }\r\n  }, []);\r\n\r\n  const applySignatureCanvasStyles = (ref) => {\r\n    if (ref && ref.getCanvas()) {\r\n      const canvas = ref.getCanvas();\r\n      Object.assign(canvas.style, {\r\n        border: \"none\",\r\n        borderRadius: \"12px\",\r\n        backgroundColor: \"#ffffff\",\r\n        backgroundImage:\r\n          \"repeating-linear-gradient(45deg, #f3f4f6, #f3f4f6 10px, #ffffff 10px, #ffffff 20px)\",\r\n        width: \"min-content\",\r\n        maxWidth: \"100%\",\r\n        height: \"150px\",\r\n        display: \"block\",\r\n        boxSizing: \"border-box\",\r\n        transition: \"box-shadow 0.3s ease, transform 0.2s ease\",\r\n      });\r\n\r\n      const activateHover = () => {\r\n        canvas.style.boxShadow = \"0 8px 24px rgba(37, 99, 235, 0.35)\";\r\n        canvas.style.transform = \"scale(1.01)\";\r\n      };\r\n\r\n      const deactivateHover = () => {\r\n        canvas.style.boxShadow = \"0 6px 20px rgba(37, 99, 235, 0.2)\";\r\n        canvas.style.transform = \"scale(1)\";\r\n      };\r\n\r\n      canvas.addEventListener(\"mouseenter\", activateHover);\r\n      canvas.addEventListener(\"mouseleave\", deactivateHover);\r\n      canvas.addEventListener(\"touchstart\", activateHover);\r\n      canvas.addEventListener(\"touchend\", deactivateHover);\r\n    }\r\n  };\r\n\r\n  const clearPatientSignature = () => {\r\n    if (patientSigPad.current) {\r\n      patientSigPad.current.clear();\r\n      setValue(\"patientSignature\", \"\");\r\n      trigger(\"patientSignature\");\r\n    }\r\n  };\r\n\r\n  const onSubmit = async (step6Data) => {\r\n    if (!patientSigPad.current || patientSigPad.current.isEmpty()) {\r\n      setValue(\"patientSignature\", \"\", { shouldValidate: true });\r\n      trigger(\"patientSignature\");\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    const signatureData = patientSigPad.current.getTrimmedCanvas().toDataURL();\r\n    step6Data.patientSignature = signatureData;\r\n\r\n    const labeledStep6Data = {\r\n      controlledSubstanceAutoRefillConsentPatientName: step6Data.patientName,\r\n      controlledSubstanceAutoRefillConsentPatientSignature: step6Data.patientSignature,\r\n      controlledSubstanceAutoRefillConsentDob: step6Data.dob,\r\n    };\r\n\r\n    const previousSteps = JSON.parse(localStorage.getItem(\"appointmentFormData\")) || {};\r\n    const fullData = { ...previousSteps, ...labeledStep6Data };\r\n\r\n    try {\r\n      const response = await fetch(\"/contact\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ appointment: fullData }),\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (response.ok) {\r\n        console.log(\"✅ Submitted:\", result);\r\n        localStorage.removeItem(\"appointmentFormData\");\r\n        setFlashMessage(\"✅ Appointment submitted successfully!\");\r\n        setTimeout(() => navigate(\"/\"), 2000);\r\n      } else {\r\n        console.error(\"❌ Server error:\", result);\r\n        setFlashMessage(\"❌ Error submitting appointment. Please try again.\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"❌ Network error:\", err);\r\n      setFlashMessage(\"❌ Network error. Please try again.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <meta name=\"robots\" content=\"noindex, nofollow\" />\r\n        <title>Step 6 of 6 | Become a Patient</title>\r\n      </Helmet>\r\n      {flashMessage && <div className=\"flash-message\">{flashMessage}</div>}\r\n      {isLoading && <div className=\"loading-spinner\">Submitting<span className=\"dots\"></span></div>}\r\n      <form className=\"intake-form\" onSubmit={handleSubmit(onSubmit)}>\r\n        <div className=\"book-appointment-container\">\r\n          <div className=\"banner\">\r\n            <div className=\"banner-overlay\"></div>\r\n            <div className=\"banner-text\">\r\n              <h1>Book Telemedicine Consultation</h1>\r\n            </div>\r\n          </div>\r\n          <div className=\"content-section\">\r\n            <h2>Start Your Wellness Journey Today</h2>\r\n            <div className=\"paper-container\">\r\n              <div className=\"progress\">\r\n                <div className=\"progress-info\"><p>Step 6 of 6</p></div>\r\n                <div className=\"progress-bar-background\">\r\n                  <div className=\"progress-bar-fill\" style={{ width: \"100%\" }} />\r\n                </div>\r\n              </div>\r\n\r\n\r\n            <div className=\"consent-text\">\r\n              <p>\r\n                I understand that Pure Health &amp; Wellness has enrolled my controlled\r\n                substance medication in Tailor Made Compounding’s auto-refill program.\r\n              </p>\r\n              <p>\r\n                <strong>Liability and Responsibility:</strong>\r\n              </p>\r\n              <p>\r\n                I understand that TMC will not call and/or email to notify me or Pure Health\r\n                &amp; Wellness that my medication is being refilled.\r\n              </p>\r\n              <p>\r\n                I understand that this form is a legal replacement in regards to receiving a\r\n                call to notify me that my prescription is due to be filled and will be shipped\r\n                to me without confirmation.\r\n              </p>\r\n              <p>\r\n                I understand that it is my responsibility to immediately report any change in\r\n                regards to my shipping address.\r\n              </p>\r\n              <p>\r\n                I understand that I will be held responsible for notifying Tailor Made Compounding\r\n                in the event my controlled substance package(s) are lost/stolen. I will inquire\r\n                about the next steps for contacting UPS and filing a police report, and I fully\r\n                understand if I do not take these next steps that I may not be eligible for any\r\n                medication replacements.\r\n              </p>\r\n              <p>\r\n                I understand that I will be held responsible for any added expenses of lost or\r\n                stolen packages.\r\n              </p>\r\n              <p>\r\n                I understand that I will be responsible for notifying TMC if I have a pause and/or\r\n                discontinuation of medication.\r\n              </p>\r\n              <p>\r\n                I understand that it is my responsibility, or that of Pure Health &amp; Wellness,\r\n                to notify TMC if my dosing or quantity prescribed has changed and any previous\r\n                prescription’s refills will need to be canceled.\r\n              </p>\r\n              <p>\r\n                I understand that if I do not notify TMC before a prescription has left their\r\n                facility, I will still be held responsible for the payment of this prescription.\r\n              </p>\r\n              <p>\r\n                In accordance with state law KRS 218A.180 a controlled substance included in\r\n                Schedules III, IV, and V \"shall not be filled or refilled more than six (6) months\r\n                after the date issued or be refilled more than five (5) times, unless renewed by the\r\n                practitioner and a new prescription, written, electronic, or oral shall be\r\n                required\". Therefore, any prescriptions exceeding 6 months from date written, will\r\n                require a new order to be sent in or verbal renewal by prescriber regardless of\r\n                refills remaining.\r\n              </p>\r\n            </div>\r\n\r\n\r\n              <div className=\"form-group\">\r\n                <label>Patient's Name (Required)</label>\r\n                <input\r\n                  type=\"text\"\r\n                  maxLength=\"50\"\r\n                  {...register(\"patientName\", { required: \"Patient's Name is required\" })}\r\n                />\r\n                <span className=\"character-counter\">{values.patientName?.length || 0} of 50 max characters</span>\r\n                {errors.patientName && <p className=\"error-message\">{errors.patientName.message}</p>}\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>Patient Signature (Required)</label>\r\n                <div className=\"signature-frame\">\r\n                  <SignatureCanvas\r\n                    ref={(ref) => {\r\n                      patientSigPad.current = ref;\r\n                      applySignatureCanvasStyles(ref);\r\n                    }}\r\n                    penColor=\"black\"\r\n                    canvasProps={{\r\n                      width: 400,\r\n                      height: 150,\r\n                    }}\r\n                    onEnd={() => {\r\n                      if (!patientSigPad.current.isEmpty()) {\r\n                        const dataUrl = patientSigPad.current.getTrimmedCanvas().toDataURL();\r\n                        setValue(\"patientSignature\", dataUrl);\r\n                        trigger(\"patientSignature\");\r\n                      }\r\n                    }}\r\n                  />\r\n                </div>\r\n                <button type=\"button\" onClick={clearPatientSignature} className=\"clear-signature\">\r\n                  Clear Signature\r\n                </button>\r\n                {errors.patientSignature && (\r\n                  <p className=\"error-message\">{errors.patientSignature.message}</p>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>Date of Birth (Required)</label>\r\n                <input\r\n                  type=\"date\"\r\n                  {...register(\"dob\", { required: \"Date of Birth is required\" })}\r\n                />\r\n                {errors.dob && <p className=\"error-message\">{errors.dob.message}</p>}\r\n              </div>\r\n\r\n              <div className=\"form-navigation button-row\">\r\n                <button type=\"button\" className=\"btn-outline\" onClick={() => navigate(\"/book-appointment-step5\")}>\r\n                  Previous\r\n                </button>\r\n                <button type=\"submit\" className=\"submit-btn\">\r\n                  Submit\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BookAppointmentStep6;\r\n"],"names":["BookAppointmentStep6","_values$patientName","navigate","useNavigate","isLoading","setIsLoading","useState","flashMessage","setFlashMessage","demoMode","patientSigPad","useRef","register","handleSubmit","setValue","watch","trigger","formState","errors","useForm","mode","defaultValues","patientName","patientSignature","dob","values","useEffect","window","scrollTo","storedData","localStorage","getItem","console","log","JSON","parse","_jsxs","_Fragment","children","Helmet","_jsx","name","content","className","onSubmit","async","current","isEmpty","shouldValidate","signatureData","getTrimmedCanvas","toDataURL","step6Data","labeledStep6Data","controlledSubstanceAutoRefillConsentPatientName","controlledSubstanceAutoRefillConsentPatientSignature","controlledSubstanceAutoRefillConsentDob","previousSteps","fullData","_objectSpread","response","fetch","method","headers","body","stringify","appointment","result","json","ok","removeItem","setTimeout","error","err","style","width","type","maxLength","required","length","message","SignatureCanvas","ref","getCanvas","canvas","Object","assign","border","borderRadius","backgroundColor","backgroundImage","maxWidth","height","display","boxSizing","transition","activateHover","boxShadow","transform","deactivateHover","addEventListener","applySignatureCanvasStyles","penColor","canvasProps","onEnd","dataUrl","onClick","clearPatientSignature","clear"],"sourceRoot":""}